<HTML>
	<HEAD>
		<TITLE>walk</TITLE>

		<style>
			a { color:white; }
			img { position:absolute; }
			body { background:linear-gradient(rgba(0,0,0,0.7),rgba(0,0,0,0.7)),url('walk.gif'); }
		</style>

		<script type="text/javascript">
			const SPRITE = {
				"x":-1965, "y":66, "index":0, "fps":12,
				"frames":[
					{"dx":0,   "dy":0,  "image":"images/fixed-frame_001.png"},
					{"dx":-6,  "dy":0,  "image":"images/fixed-frame_002.png"},
					{"dx":-10, "dy":0,  "image":"images/fixed-frame_003.png"},
					{"dx":10,  "dy":0,  "image":"images/fixed-frame_004.png"},
					{"dx":0,   "dy":0,  "image":"images/fixed-frame_005.png"},
					{"dx":-22, "dy":0,  "image":"images/fixed-frame_006.png"},
					{"dx":-20, "dy":0,  "image":"images/fixed-frame_007.png"},
					{"dx":-8,  "dy":0,  "image":"images/fixed-frame_008.png"},
					{"dx":-42, "dy":0,  "image":"images/fixed-frame_009.png"},
					{"dx":24,  "dy":2,  "image":"images/fixed-frame_010.png"},
					{"dx":-26, "dy":-8, "image":"images/fixed-frame_011.png"},
					{"dx":12,  "dy":5,  "image":"images/fixed-frame_012.png"},
					{"dx":-11, "dy":-6, "image":"images/fixed-frame_013.png"},
					{"dx":-16, "dy":6,  "image":"images/fixed-frame_014.png"},
					{"dx":-29, "dy":-4, "image":"images/fixed-frame_015.png"},
					{"dx":0,   "dy":7,  "image":"images/fixed-frame_016.png"}
				]
			};

			const walk = function() {
				let img = document.getElementsByTagName( 'img' )[ 0 ];
				let idx = SPRITE.index++ % SPRITE.frames.length;

				let frame = SPRITE.frames[ idx ];
				img.src = frame.image;

				if ( SPRITE.x < -100 ) SPRITE.x = window.innerWidth;
				SPRITE.x += frame.dx;
				SPRITE.y += frame.dy;

				img.style.left = SPRITE.x + 'px';
				img.style.top  = SPRITE.y + 'px';

				setTimeout( function() { requestAnimationFrame( walk ) }, 1000 / SPRITE.fps );
			};

			window.onload = function() { walk() } 
		</script>
	</HEAD>
	<BODY>
		<img></img>
		<a href="images">images</a>
	</BODY>
</HTML>
